%!TEX root = article.tex
%%%%%%%%%%%%%%%%%%%%%% INCLUDES %%%%%%%%%%%%%%%%
% Copyright (c) 2007 Gabriel Peyre
% Modfied 2018 Arthur Mensch
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

 

% Bold math
\usepackage{bm}
\usepackage{dsfont}
\usepackage{csquotes}

% Micro-typing
\usepackage{xspace}
\usepackage{nicefrac}
\usepackage[super]{nth}
\usepackage{microtype}

\usepackage[english]{babel}

% Compact itemize
\usepackage{enumitem}

% Tables
\usepackage{booktabs}
\usepackage{makecell}


\usepackage{graphicx}
\usepackage{subcaption}

% For colors
\usepackage{xcolor}

% Algorithm
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\algrenewcommand{\algorithmiccomment}[1]{$\vartriangleright$ #1}
\algrenewcommand{\algorithmicreturn}{\textbf{Return: }}
\algnewcommand\algorithmicinput{\textbf{Input: }}
\algnewcommand\Input{\State \algorithmicinput}

% Hyper reference
\usepackage[colorlinks=true,bookmarks=true,linkcolor=blue,
urlcolor=blue,citecolor=blue,breaklinks=true]{hyperref}

\usepackage{url}

\makeatletter
\addto\extrasenglish{%
\renewcommand{\appendixautorefname}{App.}%
\renewcommand{\figureautorefname}{Fig.}%
\renewcommand{\tableautorefname}{Table}%
\renewcommand{\sectionautorefname}{\S\@gobble}%
\renewcommand{\subsectionautorefname}{\S\@gobble}%
\renewcommand{\subsubsectionautorefname}{\S\@gobble}%
}
\makeatother

% \makeatletter
% \renewbibmacro*{textcite}{%
%   \iffieldequals{namehash}{\cbx@lasthash}
%     {\usebibmacro{cite:comp}}
%     {\usebibmacro{cite:dump}%
%      \iffirstcitekey
%        {}
%        {\textcitedelim}%
%      \usebibmacro{cite:init}%
%      \ifnameundef{labelname}
%        {\printfield[citetitle]{labeltitle}}
%        {\printnames{labelname}}%
%      \mkbibsuperscript{%
%      \usebibmacro{cite:comp}}%
%      \stepcounter{textcitecount}%
%      \savefield{namehash}{\cbx@lasthash}}}

% \DeclareCiteCommand{\textcite}
%   {\let\cbx@tempa=\empty
%    \undef\cbx@lasthash
%    \iffieldundef{prenote}
%      {}
%      {\BibliographyWarning{Ignoring prenote argument}}%
%    \iffieldundef{postnote}
%      {}
%      {\BibliographyWarning{Ignoring postnote argument}}}
%   {\usebibmacro{citeindex}%
%    \usebibmacro{textcite}}
%   {}
%   {}
% \makeatother

% Float parameters, for more full pages.
% From GaÃ«l Varoquaux
\renewcommand{\topfraction}{0.9}	% max fraction of floats at top
\renewcommand{\bottomfraction}{0.8}	% max fraction of floats at bottom
\renewcommand{\textfraction}{0.07}	% allow minimal text w. figs
%   Parameters for FLOAT pages (not text pages):
\renewcommand{\floatpagefraction}{0.6}	% require fuller float pages
%    % N.B.: floatpagefraction MUST be less than topfraction !!
\renewcommand{\dbltopfraction}{.95}  % double page floats at the top
\renewcommand{\dblfloatpagefraction}{.6}
\setcounter{totalnumber}{4}
\setcounter{topnumber}{3}
\setcounter{dbltopnumber}{3}
\setcounter{bottomnumber}{2}

% Wide pages for supplementary figures
\usepackage{changepage}                 % adjust margins for selected portions
% wide page for side by side figures, tables, etc
\newlength{\offsetpage}
\setlength{\offsetpage}{3.0cm}
\newenvironment{widepage}{\begin{adjustwidth}{-\offsetpage}{-\offsetpage}%
    \addtolength{\textwidth}{2\offsetpage}}%
{\end{adjustwidth}}


% MATHS (AMS)
\usepackage{amsmath}
\usepackage{amsfonts} 
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{mathtools} % for psmallmatrix
\mathtoolsset{showonlyrefs}

% Algorithm
%\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
%\algrenewcommand{\algorithmiccomment}[1]{$\vartriangleright$ #1}
%\algrenewcommand{\algorithmicreturn}{\textbf{Return: }}
%\algnewcommand\algorithmicinput{\textbf{Input: }}
%\algnewcommand\Input{\State \algorithmicinput}

\usepackage{footnote} % for footnotes
\makesavenoteenv{algorithm}

\usepackage{amsthm}

\newtheorem{theorem}{Theorem}
\newtheorem{proposition}{Proposition}
\newtheorem{definition}{Definition}
\newtheorem{corollary}{Corollary}
\newtheorem{lemma}{Lemma}
\newtheorem{remark}{Remark}
\newtheorem{example}{Example}
\newtheorem{assumption}{Assumption}

\newtheorem{subassumptioninner}{Assumption}
\newenvironment{subassumption}[1]{%
  \renewcommand\thesubassumptioninner{#1}%
  \subassumptioninner
}{\endsubassumptioninner}

\newcommand{\definitionautorefname}{Def.}%
\newcommand{\propositionautorefname}{Prop.}%
\newcommand{\corollaryautorefname}{Corollary}%
\newcommand{\assumptionautorefname}{Ass.}%
\newcommand{\subassumptioninnerautorefname}{Ass.}%
\newcommand{\algorithmautorefname}{Alg.}%
\newcommand{\lemmaautorefname}{Lemma}
\newcommand{\remarkautorefname}{Rmk.}

\newcommand{\todo}[1]{{\color{red} TODO: #1}}
\newcommand{\enscond}[2]{ \left\{ #1 \;:\; #2 \right\} }

\newcommand{\Ctrans}[2]{T_{#2}(#1)}


\input{commands.tex}